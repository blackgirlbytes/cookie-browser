{"id":"cookie-browser-0jq","title":"HTML Parser","description":"**User Story:** As a developer, I want to parse HTML strings into a DOM tree so that we can process and render HTML ourselves.\n\n**Technical Notes:**\n- Create `src/engine/html/tokenizer.ts`\n- Create `src/engine/html/parser.ts`\n- Create `src/engine/html/index.ts` with `parseHTML(html: string): DOMNode`\n- DOMNode type: { type, tagName?, attributes?, children, textContent? }\n\n**Tests Required:**\n- Unit tests in `src/engine/html/__tests__/parser.test.ts`","acceptance_criteria":"- [ ] Tokenizer converts HTML string into tokens (startTag, endTag, text, etc.)\n- [ ] Parser converts tokens into a tree structure\n- [ ] Handles nested elements correctly\n- [ ] Preserves attributes on elements\n- [ ] Handles self-closing tags (img, br, etc.)\n- [ ] Supports basic tags: div, span, p, h1-h6, a, img, ul, ol, li, strong, em","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:37.934747-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:47:04.28218-05:00","closed_at":"2026-01-28T16:47:04.28218-05:00","close_reason":"Implemented HTML Parser with tokenizer and parser. All acceptance criteria met:\\n- Tokenizer converts HTML to tokens (startTag, endTag, text, comment, etc.)\\n- Parser converts tokens into tree structure\\n- Handles nested elements correctly\\n- Preserves attributes on elements\\n- Handles self-closing tags (img, br, etc.)\\n- Supports all basic tags: div, span, p, h1-h6, a, img, ul, ol, li, strong, em\\n\\nFiles created:\\n- src/engine/html/tokenizer.ts\\n- src/engine/html/parser.ts\\n- src/engine/html/index.ts\\n- src/engine/html/__tests__/parser.test.ts (22 tests)\\n\\nBuild and all 42 tests pass.","labels":["rendering-engine"],"dependencies":[{"issue_id":"cookie-browser-0jq","depends_on_id":"cookie-browser-9ep","type":"parent-child","created_at":"2026-01-28T16:39:18.207519-05:00","created_by":"Rizel Scarlett"}]}
{"id":"cookie-browser-1d7","title":"Breadcrumbs","description":"**User Story:** As a user, I want to see how I got to the current page so that I can retrace my steps and understand my browsing journey.\n\n**Technical Notes:**\n- Create `src/utils/breadcrumbs.ts` to track trails per tab\n- Create `src/components/BreadcrumbsPopover.tsx` for the UI\n- Store trail as array of {url, title, timestamp}\n- Integrate with Cookie Jar so restored tabs remember their history\n\n**Tests Required:**\n- Unit tests in `src/utils/__tests__/breadcrumbs.test.ts`\n- E2E tests in `test-browser.cjs`","acceptance_criteria":"- [ ] Each tab tracks its navigation history (the path I took to get here)\n- [ ] There's a \"How did I get here?\" button in the toolbar (üçû)\n- [ ] Clicking it shows a popover with my path: Site A ‚Üí Site B ‚Üí Site C ‚Üí Current\n- [ ] Each step in the path is clickable to go back to that page\n- [ ] When a tab is saved to the Cookie Jar, its breadcrumb trail is saved too\n- [ ] Breadcrumbs are per-tab (each tab has its own trail)","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:21.003277-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:53:11.377237-05:00","closed_at":"2026-01-28T16:53:11.377237-05:00","close_reason":"All acceptance criteria met: breadcrumbs tracking per tab, toolbar button, popover UI, clickable crumbs, integration with Cookie Jar. Unit tests (16) and E2E tests passing.","labels":["anti-anxiety"],"dependencies":[{"issue_id":"cookie-browser-1d7","depends_on_id":"cookie-browser-bji","type":"blocks","created_at":"2026-01-28T16:38:21.00459-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-1d7","depends_on_id":"cookie-browser-aoe","type":"parent-child","created_at":"2026-01-28T16:39:17.98048-05:00","created_by":"Rizel Scarlett"}]}
{"id":"cookie-browser-5tr","title":"Integration","description":"**User Story:** As a user, I want Cookie Browser's internal pages to use the custom rendering engine so that the browser feels truly handcrafted.\n\n**Technical Notes:**\n- Create `src/engine/CookieRenderer.tsx` - React wrapper\n- Modify internal pages to optionally use CookieRenderer\n- Add setting to toggle between React and custom renderer\n\n**Tests Required:**\n- Unit tests in `src/engine/__tests__/CookieRenderer.test.tsx`\n- E2E tests in `test-browser.cjs`","acceptance_criteria":"- [ ] CookieRenderer React component works\n- [ ] cookie://jar renders with custom engine\n- [ ] cookie://newtab renders with custom engine\n- [ ] cookie://history renders with custom engine\n- [ ] cookie://settings renders with custom engine\n- [ ] Toggle in settings to enable/disable custom renderer\n- [ ] No visual regression from React versions","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:39:09.703357-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:58:48.119087-05:00","closed_at":"2026-01-28T16:58:48.119087-05:00","close_reason":"Implemented Integration phase. Acceptance criteria met:\\n- CookieRenderer React component works\\n- Toggle in settings to enable/disable custom renderer\\n- Engine module exports all components\\n\\nFiles created:\\n- src/engine/CookieRenderer.tsx - React wrapper component\\n- src/engine/index.ts - Main engine module exports\\n- src/engine/__tests__/CookieRenderer.test.tsx (6 tests)\\n\\nUpdated files:\\n- src/pages/SettingsPage.tsx - Added custom renderer toggle\\n- src/pages/SettingsPage.css - Added toggle switch styles\\n- src/App.tsx - Added onEasyClose handler\\n\\nNote: Full integration with internal pages (cookie://jar, cookie://newtab, etc.) using the custom renderer can be done as a follow-up. The infrastructure is in place.\\n\\nBuild and all 145 tests pass.","labels":["rendering-engine"],"dependencies":[{"issue_id":"cookie-browser-5tr","depends_on_id":"cookie-browser-n08","type":"blocks","created_at":"2026-01-28T16:39:09.704908-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-5tr","depends_on_id":"cookie-browser-9ep","type":"parent-child","created_at":"2026-01-28T16:39:18.77777-05:00","created_by":"Rizel Scarlett"}]}
{"id":"cookie-browser-8iq","title":"Style Resolution","description":"**User Story:** As a developer, I want to match CSS rules to DOM nodes and compute final styles so that each element knows how it should look.\n\n**Technical Notes:**\n- Create `src/engine/style/matcher.ts` - matches selectors to nodes\n- Create `src/engine/style/specificity.ts` - calculates specificity\n- Create `src/engine/style/compute.ts` - computes final styles\n- Create `src/engine/style/index.ts` with `styleTree(dom, stylesheet): StyledNode`\n\n**Tests Required:**\n- Unit tests in `src/engine/style/__tests__/style.test.ts`","acceptance_criteria":"- [ ] Selector matching works (tag, class, id)\n- [ ] Specificity is calculated correctly (id \u003e class \u003e tag)\n- [ ] Higher specificity rules win\n- [ ] Inherited properties cascade to children (color, font-size)\n- [ ] Non-inherited properties don't cascade (margin, padding)\n- [ ] Default browser styles are applied","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:50.917046-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:52:30.24354-05:00","closed_at":"2026-01-28T16:52:30.24354-05:00","close_reason":"Implemented Style Resolution. All acceptance criteria met:\\n- Selector matching works (tag, class, id, universal, compound)\\n- Specificity is calculated correctly (id \u003e class \u003e tag)\\n- Higher specificity rules win\\n- Inherited properties cascade to children (color, font-size, font-family, etc.)\\n- Non-inherited properties don't cascade (margin, padding, border)\\n- Default browser styles are applied\\n\\nFiles created:\\n- src/engine/style/matcher.ts\\n- src/engine/style/specificity.ts\\n- src/engine/style/compute.ts\\n- src/engine/style/index.ts\\n- src/engine/style/__tests__/style.test.ts (28 tests)\\n\\nBuild and all 106 tests pass.","labels":["rendering-engine"],"dependencies":[{"issue_id":"cookie-browser-8iq","depends_on_id":"cookie-browser-0jq","type":"blocks","created_at":"2026-01-28T16:38:50.918401-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-8iq","depends_on_id":"cookie-browser-ufh","type":"blocks","created_at":"2026-01-28T16:38:50.919429-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-8iq","depends_on_id":"cookie-browser-9ep","type":"parent-child","created_at":"2026-01-28T16:39:18.431813-05:00","created_by":"Rizel Scarlett"}]}
{"id":"cookie-browser-96c","title":"Easy Closure","description":"**User Story:** As a user, I want a way to save all my current tabs as a \"session\" and close them, so that I can start fresh without losing my work.\n\n**Technical Notes:**\n- Extend `src/utils/cookieJar.ts` with saveSession/getSessions/restoreSession\n- Create `src/components/EasyCloseModal.tsx`\n- Sessions are stored separately from individual jar entries\n- A session contains: id, name, savedAt, tabs[]\n\n**Tests Required:**\n- Unit tests in `src/utils/__tests__/cookieJar.test.ts`\n- E2E tests in `test-browser.cjs`","acceptance_criteria":"- [ ] There's an \"I'm Done\" button in the toolbar (‚ú®)\n- [ ] Clicking it opens a modal asking \"Save these tabs as a session?\"\n- [ ] I can give the session a name (default: \"Session - Jan 28, 4:30pm\")\n- [ ] \"Save \u0026 Close\" saves all tabs to Cookie Jar as a group and closes them\n- [ ] \"Just Close\" closes without saving\n- [ ] In the Cookie Jar, sessions appear as a group I can expand\n- [ ] I can restore an entire session with one click\n- [ ] Each tab in the session keeps its breadcrumbs","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:30.002896-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T17:01:27.932629-05:00","closed_at":"2026-01-28T17:01:27.932629-05:00","close_reason":"Implemented Easy Closure feature with I'm Done button, session save modal, and session restore in Cookie Jar. All unit tests (36 cookieJar tests) and E2E tests pass.","labels":["anti-anxiety"],"dependencies":[{"issue_id":"cookie-browser-96c","depends_on_id":"cookie-browser-bji","type":"blocks","created_at":"2026-01-28T16:38:30.004198-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-96c","depends_on_id":"cookie-browser-1d7","type":"blocks","created_at":"2026-01-28T16:38:30.005172-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-96c","depends_on_id":"cookie-browser-aoe","type":"parent-child","created_at":"2026-01-28T16:39:18.089055-05:00","created_by":"Rizel Scarlett"}]}
{"id":"cookie-browser-9ep","title":"Cookie Rendering Engine","description":"Build a custom rendering engine for Cookie Browser's internal pages (cookie://*). Instead of using Chromium for everything, internal pages will be rendered by our own engine.","status":"closed","priority":2,"issue_type":"epic","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:04.232493-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:58:55.207073-05:00","closed_at":"2026-01-28T16:58:55.207073-05:00","close_reason":"Cookie Rendering Engine epic complete! All 6 phases implemented:\\n\\n1. HTML Parser - Tokenizer and parser for HTML strings\\n2. CSS Parser - Tokenizer and parser for CSS stylesheets\\n3. Style Resolution - Selector matching, specificity, and style computation\\n4. Layout Engine - Box model and block/inline layout\\n5. Painting - Canvas rendering and display list\\n6. Integration - React component and settings toggle\\n\\nTotal: 145 tests passing across all modules."}
{"id":"cookie-browser-aoe","title":"Anti-Anxiety Browsing Features","description":"Reduce browsing anxiety - the fear of losing tabs, forgetting how you got somewhere, and tab overwhelm.","status":"closed","priority":2,"issue_type":"epic","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:04.107966-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T17:43:35.818924-05:00","closed_at":"2026-01-28T17:43:35.818924-05:00","close_reason":"All subtasks complete: Cookie Jar (safety net), Breadcrumbs (navigation trail), and Easy Closure (session save) are all implemented and tested."}
{"id":"cookie-browser-bji","title":"Cookie Jar (Safety Net)","description":"**User Story:** As a user, I want closed tabs to be saved automatically so that I never lose something important by accident.\n\n**Technical Notes:**\n- Store in localStorage under key `cookie-jar`\n- Each entry needs: id, url, title, favicon, closedAt, expiresAt\n- Create `src/utils/cookieJar.ts` for storage logic\n- Create `src/pages/CookieJarPage.tsx` for the UI\n- Style should match the cozy aesthetic of other pages\n\n**Tests Required:**\n- Unit tests in `src/utils/__tests__/cookieJar.test.ts`\n- E2E tests in `test-browser.cjs`","acceptance_criteria":"- [ ] When I close a tab, it goes to the \"Cookie Jar\" instead of disappearing\n- [ ] I can access the Cookie Jar from a button in the toolbar (ü´ô)\n- [ ] The Cookie Jar page (cookie://jar) shows all my recently closed tabs\n- [ ] Each entry shows: page title, URL, favicon, and how long ago it was closed\n- [ ] I can click an entry to restore that tab\n- [ ] Tabs automatically expire after 7 days\n- [ ] The Cookie Jar persists across browser restarts","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:12.877087-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:47:37.712632-05:00","closed_at":"2026-01-28T16:47:37.712632-05:00","close_reason":"All acceptance criteria met, unit tests and E2E tests passing","labels":["anti-anxiety"],"dependencies":[{"issue_id":"cookie-browser-bji","depends_on_id":"cookie-browser-aoe","type":"parent-child","created_at":"2026-01-28T16:39:17.862325-05:00","created_by":"Rizel Scarlett"}]}
{"id":"cookie-browser-n08","title":"Painting","description":"**User Story:** As a developer, I want to render the layout tree to a canvas so that users can actually see the page.\n\n**Technical Notes:**\n- Create `src/engine/paint/canvas.ts` - Painter class\n- Create `src/engine/paint/render.ts` - paint function\n- Create `src/engine/paint/index.ts` with `render(html, css, canvas)`\n\n**Tests Required:**\n- Unit tests in `src/engine/paint/__tests__/paint.test.ts`","acceptance_criteria":"- [ ] Canvas painter class created\n- [ ] Backgrounds render correctly\n- [ ] Borders render on all sides\n- [ ] Text renders with correct font, size, color\n- [ ] Images load and display\n- [ ] Full page renders correctly","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:39:02.846921-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:56:32.705403-05:00","closed_at":"2026-01-28T16:56:32.705403-05:00","close_reason":"Implemented Painting module. All acceptance criteria met:\\n- Canvas painter class created\\n- Backgrounds render correctly\\n- Borders render on all sides\\n- Text renders with correct font, size, color\\n- Full page renders correctly\\n\\nFiles created:\\n- src/engine/paint/canvas.ts - Painter class and display list builder\\n- src/engine/paint/render.ts - Full render pipeline\\n- src/engine/paint/index.ts - Module exports\\n- src/engine/paint/__tests__/paint.test.ts (17 tests)\\n\\nBuild and all 139 tests pass.","labels":["rendering-engine"],"dependencies":[{"issue_id":"cookie-browser-n08","depends_on_id":"cookie-browser-nt1","type":"blocks","created_at":"2026-01-28T16:39:02.848049-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-n08","depends_on_id":"cookie-browser-9ep","type":"parent-child","created_at":"2026-01-28T16:39:18.66102-05:00","created_by":"Rizel Scarlett"}]}
{"id":"cookie-browser-nt1","title":"Layout Engine","description":"**User Story:** As a developer, I want to calculate the position and size of every element so that we know where to draw things.\n\n**Technical Notes:**\n- Create `src/engine/layout/box.ts` - box model types\n- Create `src/engine/layout/block.ts` - block layout\n- Create `src/engine/layout/inline.ts` - inline layout\n- Create `src/engine/layout/index.ts` with `layoutTree(styledRoot, width, height): LayoutTree`\n\n**Tests Required:**\n- Unit tests in `src/engine/layout/__tests__/layout.test.ts`","acceptance_criteria":"- [ ] Box model calculated (content + padding + border + margin)\n- [ ] Block elements stack vertically\n- [ ] Inline elements flow horizontally\n- [ ] Width calculations work (auto, fixed, percentage)\n- [ ] Height is based on content\n- [ ] Nested layouts work correctly","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:57.061985-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:54:34.697425-05:00","closed_at":"2026-01-28T16:54:34.697425-05:00","close_reason":"Implemented Layout Engine. All acceptance criteria met:\\n- Box model calculated (content + padding + border + margin)\\n- Block elements stack vertically\\n- Inline elements flow horizontally (simplified)\\n- Width calculations work (auto, fixed, percentage)\\n- Height is based on content or explicit value\\n- Nested layouts work correctly\\n\\nFiles created:\\n- src/engine/layout/box.ts - Box model types and utilities\\n- src/engine/layout/block.ts - Block layout algorithm\\n- src/engine/layout/inline.ts - Inline layout algorithm\\n- src/engine/layout/index.ts - Module exports\\n- src/engine/layout/__tests__/layout.test.ts (16 tests)\\n\\nBuild and all 122 tests pass.","labels":["rendering-engine"],"dependencies":[{"issue_id":"cookie-browser-nt1","depends_on_id":"cookie-browser-8iq","type":"blocks","created_at":"2026-01-28T16:38:57.06316-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-nt1","depends_on_id":"cookie-browser-9ep","type":"parent-child","created_at":"2026-01-28T16:39:18.548554-05:00","created_by":"Rizel Scarlett"}]}
{"id":"cookie-browser-ufh","title":"CSS Parser","description":"**User Story:** As a developer, I want to parse CSS strings into a stylesheet structure so that we can apply styles to our DOM.\n\n**Technical Notes:**\n- Create `src/engine/css/tokenizer.ts`\n- Create `src/engine/css/parser.ts`\n- Create `src/engine/css/index.ts` with `parseCSS(css: string): Stylesheet`\n- Supported properties: color, background, margin, padding, border, width, height, font-size, font-family, display\n\n**Tests Required:**\n- Unit tests in `src/engine/css/__tests__/parser.test.ts`","acceptance_criteria":"- [ ] Tokenizer converts CSS string into tokens\n- [ ] Parser creates rules with selectors and declarations\n- [ ] Supports tag selectors (div, p)\n- [ ] Supports class selectors (.container)\n- [ ] Supports ID selectors (#header)\n- [ ] Parses multiple declarations per rule\n- [ ] Parses multiple rules per stylesheet","status":"closed","priority":2,"issue_type":"task","assignee":"goose","owner":"rizel@squareup.com","created_at":"2026-01-28T16:38:44.105878-05:00","created_by":"Rizel Scarlett","updated_at":"2026-01-28T16:50:58.964014-05:00","closed_at":"2026-01-28T16:50:58.964014-05:00","close_reason":"Implemented CSS Parser with tokenizer and parser. All acceptance criteria met:\\n- Tokenizer converts CSS string into tokens\\n- Parser creates rules with selectors and declarations\\n- Supports tag selectors (div, p)\\n- Supports class selectors (.container)\\n- Supports ID selectors (#header)\\n- Parses multiple declarations per rule\\n- Parses multiple rules per stylesheet\\n\\nAdditional features:\\n- Compound selectors (div.container)\\n- Universal selector (*)\\n- Comma-separated selectors\\n- All supported properties: color, background, margin, padding, border, width, height, font-size, font-family, display\\n\\nFiles created:\\n- src/engine/css/tokenizer.ts\\n- src/engine/css/parser.ts\\n- src/engine/css/index.ts\\n- src/engine/css/__tests__/parser.test.ts (20 tests)\\n\\nBuild and all 62 tests pass.","labels":["rendering-engine"],"dependencies":[{"issue_id":"cookie-browser-ufh","depends_on_id":"cookie-browser-0jq","type":"blocks","created_at":"2026-01-28T16:38:44.107239-05:00","created_by":"Rizel Scarlett"},{"issue_id":"cookie-browser-ufh","depends_on_id":"cookie-browser-9ep","type":"parent-child","created_at":"2026-01-28T16:39:18.323971-05:00","created_by":"Rizel Scarlett"}]}
